a () {
  local AGAIN="$(fc -ln -1)"
  echo "$AGAIN"
  echo "---"
  # this needs to expand aliases
  zsh -c "$AGAIN"
}

path_append () {
  PATHS=(${(s_:_)PATH})
  IN_PATH=0
  for (( i = 1; i <= $#PATHS; i++ )) do
    [ "$1" = "$PATHS[i]" ] && IN_PATH=1
  done
  [ "$IN_PATH" -eq 0 ] && PATH="$PATH:$1"
}

path_prepend () {
  PATHS=(${(s_:_)PATH})
  IN_PATH=0
  for (( i = 1; i <= $#PATHS; i++ )) do
    [ "$1" = "$PATHS[i]" ] && IN_PATH=1
  done
  [ "$IN_PATH" -eq 0 ] && PATH="$1:$PATH"
}

chpwd() {
  emulate -L zsh
  l
}

dejunk () {
  typeset -a TO_CLEAN
  TO_CLEAN=(
    "$HOME"/.DS_Store
    "$HOME"/Desktop/.DS_Store
    "$HOME"/Documents
    "$HOME"/Downloads
    "$HOME"/Movies
    "$HOME"/Music
    "$HOME"/Pictures
    "$HOME"/.ansible
    "$HOME"/.node_repl_history
    "$HOME"/.temp/.DS_Store
    "$HOME"/.temp/screenshots/*
    "$HOME"/.temp/screenshots/.DS_Store
    .v8flags.*.json
    .bashrc
    .git-credential-cache
  )
  for (( i = 1; i <= $#TO_CLEAN; i++ )) do
    if [[ -e "$TO_CLEAN[i]" ]] then
      # echo "$TO_CLEAN[i]"
      sudo \rm -r "$TO_CLEAN[i]"
    fi
  done
}

pwd_short () {
  echo $(pwd | sed "s,^$HOME,~,")
}

# git evict -- delete branch locally and on origin
ge () {
  git push origin --delete "$1" && git branch -d "$1"
}

# vim: ft=zsh
